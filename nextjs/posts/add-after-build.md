---
title: 'sample post'
date: '2021-11-26'
---

## これはサンプルです

Static Generation(SSG)の効果がよくわからないのでテストします。

理由はこのサンプルデモではブログの投稿記事を投稿日時順でリスト表示する所でSSGを使うようにしていますが、ブログの記事は更新されるものなのでビルドした後に投稿したものは読み込まれないんじゃないかと思います。

何が言いたいかと言えば ”ブログ” のような頻繁に更新があるデータをSSGで処理するメリットがあるのかがわからない。ということです。

もっと言えば getStaticPropsでServerサイドのデータを取りに行けてもそのデータが頻繁に更新されるのならStaticPageとして利用できるのかがよくわからなくなったので動作確認のために行います。

手順は次の通り

1. この記事を追加する前に `yarn build` > `yarn start` でアプリを立ち上げる
   * `yarn dev` だとリクエストごとにgetStaticPropsが呼ばれるそうなのでProductionの場合で起動する 
2. その状態でこの記事をpostsに登録する（投稿した時の状態）
3. この記事が一覧に反映されるかを確認する

### 更新された場合の疑問

SSGではビルド時に静的ファイルとして生成されるわけだが、
更新されたデータはServerとClientのどちらで処理されるのか？

- Serverサイド：静的ファイルはCDNなどに置かれるので、処理するタイミングが無い。そもそもビルド時に生成するのだからやっぱり関係ない
- Clientサイド：更新される場合はクライアントサイドで行うのがまぁ順当だが、その場合クライアントサイドレンダリング(CSR)と何が違うのか？？

### 結論

追加したこのファイルは画面には表示されなかった。つまり更新されなかった。
静的ファイルだから当たり前の結果ではある。

- アプリ起動中にこのファイルを置いて画面をリロード（スーパーリロード）しても変わらなかった
- アプリを停止 > 起動 しても更新されなかった
- アプリを停止 > ビルド > 起動 すると更新された

ってなると、このサンプルってあんまり適切じゃない気がするのと、getStaticPropsの使い所がいまいち理解できない。

